WCF.JCoins={};WCF.JCoins.Premium={};WCF.JCoins.Premium.Buy=Class.extend({_proxy:null,_container:null,init:function(e){this._container=e;this._proxy=new WCF.Action.Proxy({success:$.proxy(this._success,this)});this._container.each($.proxy(function(e,t){$(t).find(".jsPremiumGroupButton").click($.proxy(this._click,this))},this))},_click:function(e){var t=$(e.target);var n=t.data("premiumGroupID");var r=t.data("isMember");this._proxy.setOption("data",{actionName:r?"updateGroup":"buyGroup",className:"wcf\\data\\user\\group\\premium\\UserGroupPremiumAction",objectIDs:[n]});this._proxy.sendRequest()},_success:function(e,t,n){location.reload();var r=new WCF.System.Notification(WCF.Language.get("wcf.global.success"));r.show()}});WCF.JCoins.Shop={};WCF.JCoins.Shop.Buy=Class.extend({_proxy:null,_container:null,init:function(e){this._container=e;this._proxy=new WCF.Action.Proxy({success:$.proxy(this._success,this)});this._container.each($.proxy(function(e,t){$(t).find(".buttonBuy").click($.proxy(this._buy,this))},this));this._container.each($.proxy(function(e,t){$(t).find(".buttonBought").click($.proxy(this._bought,this))},this))},_buy:function(e){var t=$(e.target);var n=t.data("itemID");this._proxy.setOption("data",{actionName:"buy",className:"wcf\\data\\jcoins\\shop\\item\\JCoinsShopItemAction",objectIDs:[n]});this._proxy.sendRequest()},_bought:function(e){var t=$(e.target);var n=t.data("itemID");this._proxy.setOption("data",{actionName:"bought",className:"wcf\\data\\jcoins\\shop\\item\\JCoinsShopItemAction",objectIDs:[n]});this._proxy.sendRequest()},_success:function(e,t,n){if(typeof e.returnValues.showSuccess!=="undefined"&&e.returnValues.showSuccess){var r=new WCF.System.Notification(WCF.Language.get("wcf.global.success"));r.show()}if(typeof e.returnValues.location!=="undefined"){window.location.href=e.returnValues.location}}})