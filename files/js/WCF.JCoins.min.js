WCF.JCoins={};WCF.JCoins.Premium={};WCF.JCoins.Premium.Buy=Class.extend({_proxy:null,_container:null,init:function(container){this._container=container;this._proxy=new WCF.Action.Proxy({success:$.proxy(this._success,this)});this._container.each($.proxy(function(index,container){$(container).find('.jsPremiumGroupButton').click($.proxy(this._click,this))},this))},_click:function(event){var $button=$(event.target);var $premiumGroupID=$button.data('premiumGroupID');var $isMember=$button.data('isMember');this._proxy.setOption('data',{actionName:($isMember?'updateGroup':'buyGroup'),className:'wcf\\data\\user\\group\\premium\\UserGroupPremiumAction',objectIDs:[$premiumGroupID]});this._proxy.sendRequest()},_success:function(data,textStatus,jqXHR){location.reload();var $notification=new WCF.System.Notification(WCF.Language.get('wcf.global.success'));$notification.show()}});WCF.JCoins.Shop={};WCF.JCoins.Shop.Buy=Class.extend({_proxy:null,_container:null,init:function(container){this._container=container;this._proxy=new WCF.Action.Proxy({success:$.proxy(this._success,this)});this._container.each($.proxy(function(index,container){$(container).find('.buttonBuy').click($.proxy(this._buy,this))},this));this._container.each($.proxy(function(index,container){$(container).find('.buttonBought').click($.proxy(this._bought,this))},this))},_buy:function(event){var $button=$(event.target);var $itemID=$button.data('itemID');this._proxy.setOption('data',{actionName:'buy',className:'wcf\\data\\jcoins\\shop\\item\\JCoinsShopItemAction',objectIDs:[$itemID]});this._proxy.sendRequest()},_bought:function(event){var $button=$(event.target);var $itemID=$button.data('itemID');this._proxy.setOption('data',{actionName:('bought'),className:'wcf\\data\\jcoins\\shop\\item\\JCoinsShopItemAction',objectIDs:[$itemID]});this._proxy.sendRequest()},_success:function(data,textStatus,jqXHR){if(typeof data.showSuccess!=='undefined'&&data.showSuccess){var $notification=new WCF.System.Notification(WCF.Language.get('wcf.global.success'));$notification.show()}if(typeof data.location!=='undefined'){window.location.href=data.location}}});